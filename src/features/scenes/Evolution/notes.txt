accelerating autoincrement


const timeoutRef = useRef<number | null>(null);
const intervalRef = useRef<number | null>(null);
const speedRef = useRef(300); // start delay in ms

const clearTimers = () => {
  if (timeoutRef.current) clearTimeout(timeoutRef.current);
  if (intervalRef.current) clearInterval(intervalRef.current);
  timeoutRef.current = null;
  intervalRef.current = null;
  speedRef.current = 300; // reset speed when released
};

const startHoldAccelerating = (inc: number) => {
  handleIncrement(inc); // immediate

  // initial delay before auto-repeat
  timeoutRef.current = window.setTimeout(() => {
    const tick = () => {
      handleIncrement(inc);

      // speed up: reduce interval, min 20ms
      speedRef.current = Math.max(20, speedRef.current * 0.9);

      // reset interval with new speed
      if (intervalRef.current) clearInterval(intervalRef.current);
      intervalRef.current = window.setInterval(tick, speedRef.current);
    };

    intervalRef.current = window.setInterval(tick, speedRef.current);
  }, 500);
};
